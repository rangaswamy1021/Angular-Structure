<div class="row">
  <div class="col-md-12">
    <p class="text-right m-b-0">
      <span class="glyphicon glyphicon-exclamation-sign" aria-hidden="true"> </span> Enter input fields.</p>
  </div>
</div>
<form role="form" name="updateVehicleForm" [formGroup]="updateVehicleForm">
  <div class="status-content">
    <h3>{{message}}</h3>
  </div>
  <div class="table-bdr">
    <h3>Update Vehicle</h3>
    <div class="pad-10">
      <div class="row">
        <div class="col-md-6 form-group popover-field">
          <label for="AccountType">Plate #</label>
          <input type="text" class="form-control" placeholder="Plate #" [(ngModel)]="vehicleResponseNgModel.VehicleNumber" disabled="disabled"
            id="pltNumber" formControlName="pltNumber" name="pltNumber">
          <button type="button" [popover]="popPlate" triggers="mouseenter:mouseleave" class="pop-over" data-container="body" data-toggle="tooltip"
            data-placement="left" popoverTitle="Help">?</button>
          <ng-template #popPlate>
            <ul>
              <li> Plate number is required.</li>
              <li> It allow alphanumerics only.</li>
              <li> It should be minimum 1 character and maximum 10 Characters long.</li>
            </ul>
          </ng-template>

        </div>
        <div class="col-md-6 form-group popover-field">
          <label class="focused" for="pltClass">Class</label>
          <select class="form-control" placeholder="Class" [(ngModel)]="vehicleResponseNgModel.VehicleClass" id="pltClass" name="pltClass"
            formControlName="pltClass">
                  <option selected="selected" value="">--Select--</option>
                  <option *ngFor="let class of vehicleClass" value="{{class.Code}}">{{class.VehicleClassDesc}}</option>
                </select>
          <div class="msg" *ngIf="updateVehicleForm.controls['pltClass'].invalid && (updateVehicleForm.controls['pltClass'].dirty || updateVehicleForm.controls['pltClass'].touched)">
            <div class="msg" *ngIf="updateVehicleForm.controls['pltClass'].hasError('required')">
              <div>Class is required</div>
            </div>
          </div>
          <button type="button" [popover]="popClass" class="pop-over" data-container="body" data-toggle="tooltip" data-placement="top"
            popoverTitle="Help" triggers="mouseenter:mouseleave" placement="left">?</button>
          <ng-template #popClass>
            <ul>
              <li> Class is required.</li>
              <li> Select Class.</li>
            </ul>
          </ng-template>
        </div>
        <div class="col-md-6 form-group popover-field">
          <label for="Plan Name" class="focused">Year</label>
          <select class="form-control" placeholder="Year" id="pltYear" [(ngModel)]="yearNg" name="pltYear" formControlName="pltYear">
                  <option selected="selected" value="">--Select--</option>
                  <option *ngFor="let year of years" value="{{year}}">{{year}}</option>
                </select>
          <button type="button" triggers="mouseenter:mouseleave" [popover]="popYear" class="pop-over" data-container="body" data-toggle="tooltip"
            data-placement="left" popoverTitle="Help" title="Select Year.">?</button>
          <ng-template #popYear>
            <ul>
              <li> Select Year.</li>
            </ul>
          </ng-template>
        </div>
        <div class="col-md-6 form-group popover-field">
          <label for="Plan Name" class="focused">Make</label>
          <select class="form-control" placeholder="Make" id="pltYear" [(ngModel)]="vehicleResponseNgModel.Make" name="pltMake" formControlName="pltMake"
            (change)="getModel($event.target.value)">
                  <option selected="selected" value="">--Select--</option>
                  <option *ngFor="let attribute of vehicleMake" value="{{attribute}}">{{attribute}}</option>
                </select>
          <button type="button" [popover]="popMake" triggers="mouseenter:mouseleave" class="pop-over" data-container="body" data-toggle="tooltip"
            data-placement="left" popoverTitle="Help">?</button>
          <ng-template #popMake>
            <ul>
              <li> Select Make.</li>
            </ul>
          </ng-template>
        </div>
        <div class="col-md-6 form-group popover-field">
          <label for="pltModel" class="focused">Model</label>
          <select class="form-control" placeholder="Model" id="pltModel" [(ngModel)]="vehicleResponseNgModel.Model " name="pltModel"
            formControlName="pltModel">
                  <option selected="selected" value="">--Select--</option>
                  <option *ngFor="let models of vehicleModel" value="{{models}}">{{models}}</option>
                </select>
          <button [popover]="popModel" triggers="mouseenter:mouseleave" type="button" class="pop-over" data-container="body" data-toggle="tooltip"
            data-placement="left" popoverTitle="Help">?</button>
          <ng-template #popModel>
            <ul>
              <li> Select Model.</li>
            </ul>
          </ng-template>
        </div>

        <div class="col-md-6 form-group popover-field">
          <label for="pltColor" class="focused">Color</label>
          <select class="form-control" placeholder="Color" id="pltColor" [(ngModel)]="vehicleResponseNgModel.Color" name="pltColor"
            formControlName="pltColor">
                  <option selected="selected" value="">--Select--</option>
                  <option *ngFor="let vColor of vehicleColors" value="{{vColor.LookUpTypeCode}}">{{vColor.LookUpTypeCode}}</option>
                </select>
          <button [popover]="popColor" triggers="mouseenter:mouseleave" type="button" class="pop-over" data-container="body" data-toggle="tooltip"
            data-placement="left" popoverTitle="Help">?</button>
          <ng-template #popColor>
            <ul>
              <li> Select Color.</li>
            </ul>
          </ng-template>
        </div>
        <div class="col-md-6 form-group popover-field">
          <label for="pltCountry" class="focused">Registered Country</label>
          <select class="form-control" placeholder="Register Country" id="pltCountry" name="pltCountry" [(ngModel)]="vehicleResponseNgModel.Country"
            (change)="getStateByCountry($event.target.value)" formControlName="pltCountry">
                  <option selected="selected" value="">--Select--</option>
                  <option *ngFor="let country of countries" value="{{country.CountryCode}}">{{country.CountryName}}</option>
                </select>
          <div class="msg" *ngIf="updateVehicleForm.controls['pltCountry'].invalid && (updateVehicleForm.controls['pltCountry'].dirty || updateVehicleForm.controls['pltCountry'].touched)">
            <div class="msg" *ngIf="updateVehicleForm.controls['pltCountry'].hasError('required')">
              <div>Registered Country is required</div>
            </div>
          </div>
          <button type="button" [popover]="popCountry" triggers="mouseenter:mouseleave" class="pop-over" data-container="body" data-toggle="tooltip"
            data-placement="left" popoverTitle="Help">?</button>
          <ng-template #popCountry>
            <ul>
              <li>Registered Country is required.</li>
              <li>Select Country.</li>
            </ul>
          </ng-template>
        </div>
        <div class="col-md-6 form-group popover-field">
          <label for="pltState" class="focused">Registered State</label>
          <select class="form-control" [(ngModel)]="vehicleResponseNgModel.State" placeholder="Registered State" id="pltState" name="pltState"
            formControlName="pltState">
                  <option selected="selected" value="">--Select--</option>
                  <option *ngFor="let state of states" value="{{state.StateCode}}">{{state.StateName}}</option>

                </select>
          <div class="msg" *ngIf="updateVehicleForm.controls['pltState'].invalid && (updateVehicleForm.controls['pltState'].dirty || updateVehicleForm.controls['pltState'].touched)">
            <div class="msg" *ngIf="updateVehicleForm.controls['pltState'].hasError('required')">
              <div>Registered State is required</div>
            </div>
          </div>
          <button type="button" [popover]="stateState" triggers="mouseenter:mouseleave" class="pop-over" data-container="body" data-toggle="tooltip"
            data-placement="left" popoverTitle="Help">?</button>
          <ng-template #stateState>
            <ul>
              <li> Registered State is required.</li>
              <li>Select State.</li>
            </ul>
          </ng-template>
        </div>
        <!--<div class="col-md-6">
          <div class="form-group">
            <label for="Start Effective Date">Start Effective Date</label>
            <div class="row">
              <div class="col-md-10">
                 <input type="text" class="form-control" id="startDate" name="startDate" formControlName="startDate"> 
                <owl-date-time id="startDate" class="form-control" [(ngModel)]="startDate" [dateFormat]="'MM/DD/YYYY HH:mm:ss'" [showSecondsTimer]="true"
                  [placeHolder]="'MM/DD/YYYY HH:MM:SS'" formControlName="startDate"></owl-date-time>
              </div>
              <div class="col-md-2">
                <button type="button" [popover]="popstartDate" triggers="mouseenter:mouseleave" class="tool-tip col-sm-1" data-container="body" data-toggle="tooltip"
                  data-placement="top" popoverTitle="Help" popoverTitle="Help" popoverTitle="Help" popoverTitle="Help" popoverTitle="Help" popoverTitle="Help">?</button>
                <ng-template #popstartDate>
                  <ul>
                    <li> Select Start Effective Date.</li>

                  </ul>
                </ng-template>
              </div>
            </div>
          </div>
        </div>-->
        <div class="col-md-6">
          <div class="row">
            <div class="col-md-6 form-group">
              <label for="Start Effective Date" class="focused">Start Effective Date</label>
              <my-date-picker name="mystartdate" [options]="myDatePickerOptions" formControlName="startDate" (inputFieldChanged)='onInputFieldRangeChanged($event)'></my-date-picker>
              <!--<div class="msg2" *ngIf="isStartDateEmpty">
                  <div>Required</div>
                </div>-->
              <div *ngIf="dateError" class="show-error">
                <div>Invalid date </div>
              </div>
            </div>
            <div class="col-md-6 form-group popover-field">
              <label class="focused">Time</label>
              <owl-date-time [type]="'timer'" [dateFormat]="'HH:mm:ss'" [placeHolder]="'hh:mm:ss'" [showSecondsTimer]="true" formControlName="startTime"
                class="form-control" [(ngModel)]="startTime"></owl-date-time>
              <button type="button" [popover]="popstartDate" triggers="mouseenter:mouseleave" class="pop-over" data-container="body" data-toggle="tooltip"
                data-placement="left" popoverTitle="Help">?</button>
              <ng-template #popstartDate>
                <ul>
                  <li> Select Start Effective Date.</li>
                </ul>
              </ng-template>
            </div>

          </div>
        </div>


        <!--<div class="col-md-6">
          <div class="form-group">
            <label for="Start Effective Date">End Effective Date</label>
            <div class="row">
              <div class="col-md-10">
                 <input type="text" class="form-control" id="endDate" name="endDate"> 
                <owl-date-time id="endDate" class="form-control" [(ngModel)]="endDate" [dateFormat]="'MM/DD/YYYY HH:mm:ss'" [showSecondsTimer]="true"
                  [placeHolder]="'MM/DD/YYYY HH:MM:SS'" formControlName="endDate"></owl-date-time>
              </div>
              <div class="col-md-2">
                <button type="button" [popover]="popstartEndDate" triggers="mouseenter:mouseleave" class="tool-tip col-sm-1" data-container="body" data-toggle="tooltip"
                  data-placement="top" popoverTitle="Help" popoverTitle="Help" popoverTitle="Help" popoverTitle="Help" popoverTitle="Help" popoverTitle="Help">?</button>
                <ng-template #popstartEndDate>
                  <ul>
                    <li> Select End Effective Date.</li>
                  </ul>
                </ng-template>
              </div>
            </div>
          </div>
        </div>-->
        <div class="col-md-6">
          <div class="row">
            <div class="col-md-6 form-group">
              <label for="End Effective Date" class="focused">End Effective Date</label>
              <!-- <input type="text" class="form-control" id="endDate" name="endDate" formControlName="endDate"> -->
              <!--<owl-date-time id="endDate" class="form-control" (onSelect)="isEndDateEmpty=false" [dateFormat]="'MM/DD/YYYY HH:mm:ss'" [showSecondsTimer]="true" [placeHolder]="'MM/DD/YYYY HH:MM:SS'"
                  formControlName="endDate"></owl-date-time>-->
              <my-date-picker name="myenddate" [options]="myDatePickerOptionEndDate" formControlName="endDate" (inputFieldChanged)='onInputFieldEndDateChanged($event)'></my-date-picker>
              <div *ngIf="invalidDate" class="show-error">
                <div>Invalid date </div>
              </div>
              <!--<div class="msg2" *ngIf="isEndDateEmpty">
                  <div>Required</div>
                </div>-->
            </div>
            <div class="col-md-6 form-group popover-field">
              <label class="focused"> Time </label>
              <owl-date-time [type]="'timer'" [dateFormat]="'HH:mm:ss'" [placeHolder]="'hh:mm:ss'" [showSecondsTimer]="true" formControlName="endTime"
                class="form-control" [(ngModel)]="endTime"></owl-date-time>
              <button type="button" [popover]="popstartEndDate" triggers="mouseenter:mouseleave" class="pop-over" data-container="body"
                data-toggle="tooltip" data-placement="left" popoverTitle="Help">?</button>
              <ng-template #popstartEndDate>
                <ul>
                  <li> Select End Effective Date.</li>
                </ul>
              </ng-template>
            </div>
          </div>
        </div>
        <div class="col-md-6 form-group popover-field clear">
          <label for="Contractual Type" class="focused">Contractual Type</label>
          <select class="form-control" [(ngModel)]="vehicleResponseNgModel.ContractType" placeholder="Registered State" id="pltContractual"
            name="pltContractual" formControlName="pltContractual">
                  <option selected="selected" value="">--Select--</option>
                  <option *ngFor="let cotracType of contarctualType" value="{{cotracType.Value}}">{{cotracType.Key}}</option>
                </select>
          <!-- <div class="msg" *ngIf="updateVehicleForm.controls['pltContractual'].hasError('required')">
                  <div>Contractual Type is required</div>
                   </div> -->
          <button type="button" [popover]="popCottype" triggers="mouseenter:mouseleave" class="pop-over" data-container="body" data-toggle="tooltip"
            data-placement="left" popoverTitle="Help">?</button>
          <ng-template #popCottype>
            <ul>
              <li> Select Contractual Type.</li>
            </ul>
          </ng-template>
        </div>
        <div class="col-md-6">
          <div class="form-group checkbox" style="margin-top: 28px">
            <input formControlName="pltIsTempplate" id='licencePlate' [checked]="vehicleResponseNgModel.IsTemporaryNumber" type="checkbox">
            <label for="licencePlate"><span></span>Is Temporary Licence Plate #</label>
          </div>
        </div>
        <div class="col-md-6 pull-right" *ngIf='!(isActivate || isCreateCustomerAccount)'>
          <div class="form-group" style="padding-top: 0px">
            <div class="checkbox-inline checkbox">
              <input formControlName="pltIsExempt" id='isNonrevenue' [(ngModel)]="vehicleResponseNgModel.IsExempted" type="checkbox" [attr.disabled]="disableisNoneRevenue?null:''"
                title="Vehicle and Tag revenue types are equal" >
              <label for="isNonrevenue"><span></span>Is Non Revenue</label>
            </div>
          </div>
        </div>
        <!--<div class="col-md-6">
          <div class="form-group" style="margin-top: 28px">
             <div class="checkbox-inline checkbox">
            <input formControlName="pltIsExempt" id='isNonrevenue' [checked]="vehicleResponseNgModel.IsExempted" type="checkbox">
            <label for="isNonrevenue">Is Non Revenue</label>
            </div>
          </div>
        </div>-->
        <div class="col-md-12 text-right">
          <button type="submit" (click)="updateVehicle()" [disabled]="disableButton" class="btn btn-primary btn-search">{{buttonText}}</button>
          <button type="submit" *ngIf="!isActivate" [disabled]="disableButton" (click)="resetUpdateVehicle()" class="btn btn-default btn-reset">Reset</button>
          <a href='javascript:;' (click)="cancelVehicle()" class="btn btn-primary btn-search">Cancel</a>
        </div>
      </div>
    </div>
  </div>
</form>